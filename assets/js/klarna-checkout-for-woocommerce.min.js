jQuery(function(e){var o;(o={bodyEl:e("body"),checkoutFormEl:e("form.checkout"),orderNotesValue:"",orderNotesSelector:"textarea#order_comments",orderNotesEl:e("textarea#order_comments"),paymentMethodEl:e('input[name="payment_method"]'),paymentMethod:"",selectAnotherSelector:"#klarna-checkout-select-other",documentReady:function(){o.paymentMethodEl.length>0?o.paymentMethod=o.paymentMethodEl.filter(":checked").val():o.paymentMethod="klarna_checkout_for_woocommerce",console.log(o.paymentMethod)},kcoSuspend:function(){window._klarnaCheckout(function(e){e.suspend()})},kcoResume:function(){window._klarnaCheckout(function(e){e.resume()})},update:function(){o.kcoSuspend(),e("body").trigger("update_checkout"),e.ajax({type:"POST",url:"/checkout/?wc-ajax=kco_wc_update_cart",data:{checkout:e("form.checkout").serialize()},success:function(e){},error:function(e){},complete:function(e){o.kcoResume()}})},updateOrderNotes:function(){console.log(o.orderNotesEl.val()),console.log(o.orderNotesValue),o.orderNotesEl.val()!==o.orderNotesValue&&(o.orderNotesValue=o.orderNotesEl.val(),e.ajax({type:"POST",url:"/checkout/?wc-ajax=kco_wc_update_order_notes",data:{order_notes:o.orderNotesValue},success:function(e){},error:function(e){},complete:function(e){console.log("complete",e)}}))},refreshCheckoutFragment:function(t){t.preventDefault(),o.checkoutFormEl.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.ajax({type:"POST",dataType:"json",url:"/checkout/?wc-ajax=kco_wc_refresh_checkout_fragment",success:function(e){},error:function(e){},complete:function(e){console.log(e.responseJSON),o.checkoutFormEl.replaceWith(e.responseJSON.data.fragments.checkout),o.checkoutFormEl.unblock()}})},init:function(){e(document).ready(o.documentReady),o.bodyEl.on("change","input.qty, input.shipping_method",o.update),o.bodyEl.on("blur",o.orderNotesSelector,o.updateOrderNotes),o.bodyEl.on("click",o.selectAnotherSelector,o.refreshCheckoutFragment)}}).init()});