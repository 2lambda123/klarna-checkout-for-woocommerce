jQuery(function(o){var e;(e={bodyEl:o("body"),orderNotesValue:"",orderNotesSelector:"textarea#order_comments",orderNotesEl:o("textarea#order_comments"),loadOrderNotesValue:function(){e.orderNotesEl.length>0&&(e.orderNotesValue=e.orderNotesEl.val())},kcoSuspend:function(){window._klarnaCheckout(function(o){o.suspend()})},kcoResume:function(){window._klarnaCheckout(function(o){o.resume()})},update:function(){e.kcoSuspend(),o("body").trigger("update_checkout"),o.ajax({type:"POST",url:"/checkout/?wc-ajax=kco_wc_update_cart",data:{checkout:o("form.checkout").serialize()},success:function(o){},error:function(o){},complete:function(o){e.kcoResume()}})},updateOrderNotes:function(){console.log(e.orderNotesEl.val()),console.log(e.orderNotesValue),e.orderNotesEl.val()!==e.orderNotesValue&&(e.orderNotesValue=e.orderNotesEl.val(),o.ajax({type:"POST",url:"/checkout/?wc-ajax=kco_wc_update_order_notes",data:{order_notes:e.orderNotesValue},success:function(o){},error:function(o){},complete:function(o){console.log("complete")}}))},init:function(){e.bodyEl.on("change","input.qty, input.shipping_method",e.update),e.bodyEl.on("blur",e.orderNotesSelector,e.updateOrderNotes),window._klarnaCheckout(function(o){o.on({change:function(o){console.log("change",o)}})}),window._klarnaCheckout(function(o){o.on({shipping_address_change:function(o){console.log("shipping_address_change",o)}})}),window._klarnaCheckout(function(o){o.on({order_total_change:function(o){console.log("order_total_change",o)}})}),window._klarnaCheckout(function(o){o.on({shipping_option_change:function(o){console.log("shipping_option_change",o)}})}),window._klarnaCheckout(function(o){o.on({can_not_complete_order:function(o){console.log("can_not_complete_order",o)}})})}}).init()});